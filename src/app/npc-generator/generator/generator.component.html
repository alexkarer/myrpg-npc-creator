<div class="container generatorContainer">
    <!-- NAME, ALIGNMENT AND LEVEL -->
    <form class="row g-3">
        <div class="col-6">
            <div class="input-group">
                <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
                <input type="text" class="form-control" aria-label="Name" aria-describedby="inputGroup-sizing-default" (change)="handleNameUpdate($event)">
            </div>
        </div>
        <div class="col-3 d-flex justify-content-center">
            <div ngbDropdown class="d-inline-block">
                <button type="button" class="btn btn-outline-primary" id="dropdownAlignment" ngbDropdownToggle>
                    {{ npcRepo.$alignment | async }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownAlignment">
                    @for (alignment of alignments; track $index) {
                        <button type="button" (click)="handleAlignmentUpdate($event)" ngbDropdownItem [value]="alignment">{{ alignment }}</button>
                    }
                </div>
            </div>
        </div>
        <div class="col-3 d-flex justify-content-center">
            <div ngbDropdown class="d-inline-block">
                <button type="button" class="btn btn-outline-primary" id="dropdownLevel" ngbDropdownToggle>
                    Level {{ npcRepo.$level | async }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownLevel">
                    @for (levelNumber of levelNumbers; track $index) {
                        <button type="button" (click)="handleLevelUpdate(levelNumber)" ngbDropdownItem>Level {{ levelNumber }}</button>
                    }
                </div>
            </div>
        </div>
    </form>
    <div class="row mt-4">
        <div class="d-flex justify-content-around">
            <div class="col">
                <p class="text-center fw-bold fs-5 text-white">Availible NPC Creation Points: {{ npcRepo.$availibleNpcCreationPoints | async }}</p>
            </div>
            <div class="col">
                <p class="text-center fw-bold fs-5" 
                    [ngClass]="{'text-bg-danger' : npcCreationPointsExceeded() | async, 'text-bg-success' : !(npcCreationPointsExceeded() | async)}" >
                    Used NPC Creation Points: {{ npcRepo.$usedNpcCreationPoints | async }}
                </p>
            </div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="d-flex justify-content-around">
            <div ngbDropdown class="d-inline-block">
                <button type="button" class="btn btn-outline-primary" id="dropdownAlignment" ngbDropdownToggle>
                    {{ selectedArcheType }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownAlignment">
                    @for (archType of archTypes; track $index) {
                        <button type="button" (click)="handleArcheTypeUpdate($event)" ngbDropdownItem [value]="archType">{{ archType }}</button>
                    }
                </div>
            </div>
            <div ngbDropdown class="d-inline-block">
                <button type="button" class="btn btn-outline-primary" id="dropdownAlignment" ngbDropdownToggle>
                    {{ npcRepo.$creatureType | async }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownAlignment">
                    @for (creatureType of creatureTypes; track $index) {
                        <button type="button" (click)="npcRepo.updateCreatureType(creatureType)" ngbDropdownItem>{{ creatureType.name }}</button>
                    }
                </div>
            </div>
            <div ngbDropdown class="d-inline-block">
                <button type="button" class="btn btn-outline-primary" id="dropdownAlignment" ngbDropdownToggle>
                    {{ npcRepo.$creatureSize | async }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownAlignment">
                    @for (creatureSize of creatureSizes; track $index) {
                        <button type="button" (click)="npcRepo.updateCreatureSize(creatureSize)" ngbDropdownItem>{{ creatureSize.name }}</button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>